<template>
  <div class="index">
    <el-container>
      <el-aside style="width: 3.5%;height: 100vh; background-color: rgb(0,0,0);">
        <!-- <div class="login nav" @click="$router.push(loginstatus ? '/personal' : '/sign')">
          <svg t="1685172872639" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="5331" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">
            <title>登录注册</title>
            <path class="icon1"
              d="M832 896H298.666667a104.533333 104.533333 0 0 1-106.666667-102.4v-101.973333h53.333333v102.826666A52.48 52.48 0 0 0 298.666667 845.653333h533.333333a52.48 52.48 0 0 0 53.333333-51.2V229.546667a52.48 52.48 0 0 0-53.333333-51.2H298.666667a52.48 52.48 0 0 0-53.333334 51.2v102.826666H192V229.546667A104.533333 104.533333 0 0 1 298.666667 128h533.333333A104.533333 104.533333 0 0 1 938.666667 229.546667v564.906666A104.533333 104.533333 0 0 1 832 896zM601.173333 352a25.6 25.6 0 0 1 0-36.693333 27.733333 27.733333 0 0 1 37.546667 0l184.32 177.066666a30.293333 30.293333 0 0 1 0 39.253334L640 708.693333a27.733333 27.733333 0 0 1-37.546667 0 25.173333 25.173333 0 0 1 0-36.266666l139.946667-134.826667H112.213333a25.6 25.6 0 1 1 0-51.2h628.906667z"
              fill="#666666" p-id="5332">
            </path>
          </svg>
        </div>
        <div class="view nav" @click="$router.push('/medicalView')">
          <svg t="1685175148846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="7609" data-spm-anchor-id="a313x.7781069.0.i3" xmlns:xlink="http://www.w3.org/1999/xlink" width="50"
            height="50">
            <title>视图展示</title>
            <path class="icon1"
              d="M329.142857 768H177.632653c-45.97551 0-83.591837-37.616327-83.591837-83.591837v-130.612245c0-164.04898 133.746939-297.795918 297.795919-297.795918 45.97551 0 83.591837 37.616327 83.591836 83.591837v282.122449c0 80.457143-65.828571 146.285714-146.285714 146.285714z m62.693878-470.204082c-141.061224 0-256 114.938776-256 256v130.612245c0 22.987755 18.808163 41.795918 41.795918 41.795919h151.510204c57.469388 0 104.489796-47.020408 104.489796-104.489796V339.591837c0-22.987755-18.808163-41.795918-41.795918-41.795919z"
              fill="#333333" p-id="7610"></path>
            <path class="icon1"
              d="M846.367347 768h-151.510204c-80.457143 0-146.285714-65.828571-146.285714-146.285714V339.591837c0-45.97551 37.616327-83.591837 83.591836-83.591837 164.04898 0 297.795918 133.746939 297.795919 297.795918v130.612245c0 45.97551-37.616327 83.591837-83.591837 83.591837z m-214.204082-470.204082c-22.987755 0-41.795918 18.808163-41.795918 41.795919v282.122449c0 57.469388 47.020408 104.489796 104.489796 104.489796h151.510204c22.987755 0 41.795918-18.808163 41.795918-41.795919v-130.612245c0-141.061224-114.938776-256-256-256z"
              fill="#333333" p-id="7611"></path>
            <path class="icon1"
              d="M729.861224 577.828571c-5.22449 0-10.44898-2.089796-14.628571-6.269387-111.804082-111.804082-294.138776-111.804082-406.465306 0-8.359184 8.359184-21.420408 8.359184-29.779592 0-8.359184-8.359184-8.359184-21.420408 0-29.779592 128.522449-128.522449 336.979592-128.522449 465.502041 0 8.359184 8.359184 8.359184 21.420408 0 29.779592-3.657143 4.179592-9.404082 6.269388-14.628572 6.269387z"
              fill="#333333" p-id="7612"></path>
          </svg>
        </div>
        <div class="load nav" @click="$router.push('/load')">
          <svg t="1685175213167" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="8785" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">
            <title>上传文件</title>
            <path class="icon1"
              d="M808.192 262.592a320.16 320.16 0 0 0-592.352 0A238.592 238.592 0 0 0 32 496C32 628.352 139.648 736 272 736h91.488a32 32 0 1 0 0-64H272A176.192 176.192 0 0 1 96 496a175.04 175.04 0 0 1 148.48-173.888l19.04-2.976 6.24-18.24C305.248 197.472 402.592 128 512 128a256 256 0 0 1 242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 0 1 928 496c0 97.024-78.976 176-176 176h-97.28a32 32 0 1 0 0 64h97.28c132.352 0 240-107.648 240-240a238.592 238.592 0 0 0-183.808-233.408z"
              p-id="8786">
            </path>
            <path class="icon1"
              d="M649.792 570.048a32 32 0 1 0 40.544-49.536l-158.048-129.408a32 32 0 0 0-40.576 0l-159.04 130.24a32.032 32.032 0 0 0 20.256 56.768 31.744 31.744 0 0 0 20.256-7.264L480 483.456V912a32 32 0 0 0 64 0V483.456l105.792 86.592z"
              p-id="8787">
            </path>
          </svg>
        </div> -->
        <div :class='{ active: currentIndex == index, nav: true }' v-for="(item, index) in items" v-html="item.html"
          @click="clickDiv(index, item.name)">
        </div>
      </el-aside>
      <el-main style="padding: 0; width: 96.5%; height: 100vh;">
        <medicalView />

        <router-view></router-view>

      </el-main>
    </el-container>
  </div>
</template>

<script setup>
import { computed, watch, ref } from 'vue';
import { useRouter } from 'vue-router';
import { storeToRefs } from "pinia";
import { useInitStore } from '../../store/init.js'
import medicalView from '../medicalView/medicalView.vue'
const init = useInitStore()

const $router = useRouter()

const items = [
  {
    html: `<svg t="1685172872639" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="5331" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">
            <title>登录注册</title>
            <path class="icon1"
              d="M832 896H298.666667a104.533333 104.533333 0 0 1-106.666667-102.4v-101.973333h53.333333v102.826666A52.48 52.48 0 0 0 298.666667 845.653333h533.333333a52.48 52.48 0 0 0 53.333333-51.2V229.546667a52.48 52.48 0 0 0-53.333333-51.2H298.666667a52.48 52.48 0 0 0-53.333334 51.2v102.826666H192V229.546667A104.533333 104.533333 0 0 1 298.666667 128h533.333333A104.533333 104.533333 0 0 1 938.666667 229.546667v564.906666A104.533333 104.533333 0 0 1 832 896zM601.173333 352a25.6 25.6 0 0 1 0-36.693333 27.733333 27.733333 0 0 1 37.546667 0l184.32 177.066666a30.293333 30.293333 0 0 1 0 39.253334L640 708.693333a27.733333 27.733333 0 0 1-37.546667 0 25.173333 25.173333 0 0 1 0-36.266666l139.946667-134.826667H112.213333a25.6 25.6 0 1 1 0-51.2h628.906667z"
              fill="#cdcdcd" p-id="5332">
            </path>  
          </svg>`,
    name: 'sign'
  },
  // {
  //   html: ` <svg t="1685175148846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
  //           p-id="7609" data-spm-anchor-id="a313x.7781069.0.i3" xmlns:xlink="http://www.w3.org/1999/xlink" width="50"
  //           height="50">
  //           <title>视图展示</title>
  //           <path class="icon1"
  //             d="M329.142857 768H177.632653c-45.97551 0-83.591837-37.616327-83.591837-83.591837v-130.612245c0-164.04898 133.746939-297.795918 297.795919-297.795918 45.97551 0 83.591837 37.616327 83.591836 83.591837v282.122449c0 80.457143-65.828571 146.285714-146.285714 146.285714z m62.693878-470.204082c-141.061224 0-256 114.938776-256 256v130.612245c0 22.987755 18.808163 41.795918 41.795918 41.795919h151.510204c57.469388 0 104.489796-47.020408 104.489796-104.489796V339.591837c0-22.987755-18.808163-41.795918-41.795918-41.795919z"
  //             fill="#cdcdcd" p-id="7610"></path>
  //           <path class="icon1"
  //             d="M846.367347 768h-151.510204c-80.457143 0-146.285714-65.828571-146.285714-146.285714V339.591837c0-45.97551 37.616327-83.591837 83.591836-83.591837 164.04898 0 297.795918 133.746939 297.795919 297.795918v130.612245c0 45.97551-37.616327 83.591837-83.591837 83.591837z m-214.204082-470.204082c-22.987755 0-41.795918 18.808163-41.795918 41.795919v282.122449c0 57.469388 47.020408 104.489796 104.489796 104.489796h151.510204c22.987755 0 41.795918-18.808163 41.795918-41.795919v-130.612245c0-141.061224-114.938776-256-256-256z"
  //             fill="#cdcdcd" p-id="7611"></path>
  //           <path class="icon1"
  //             d="M729.861224 577.828571c-5.22449 0-10.44898-2.089796-14.628571-6.269387-111.804082-111.804082-294.138776-111.804082-406.465306 0-8.359184 8.359184-21.420408 8.359184-29.779592 0-8.359184-8.359184-8.359184-21.420408 0-29.779592 128.522449-128.522449 336.979592-128.522449 465.502041 0 8.359184 8.359184 8.359184 21.420408 0 29.779592-3.657143 4.179592-9.404082 6.269388-14.628572 6.269387z"
  //             fill="#cdcdcd" p-id="7612"></path>
  //         </svg>`,
  //   name: 'view'
  // },
  {
    html: ` <svg  t="1685175213167" class="icon" viewBox="0 0 1024 1024" version="1.1"
            xmlns="http://www.w3.org/2000/svg" p-id="8785" xmlns:xlink="http://www.w3.org/1999/xlink" width="50"
            height="50" v-if="false">
            <title>上传文件</title>
            <path class="icon1"
              d="M808.192 262.592a320.16 320.16 0 0 0-592.352 0A238.592 238.592 0 0 0 32 496C32 628.352 139.648 736 272 736h91.488a32 32 0 1 0 0-64H272A176.192 176.192 0 0 1 96 496a175.04 175.04 0 0 1 148.48-173.888l19.04-2.976 6.24-18.24C305.248 197.472 402.592 128 512 128a256 256 0 0 1 242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 0 1 928 496c0 97.024-78.976 176-176 176h-97.28a32 32 0 1 0 0 64h97.28c132.352 0 240-107.648 240-240a238.592 238.592 0 0 0-183.808-233.408z"
              fill="#cdcdcd" p-id="8786">
            </path>
            <path class="icon1"
              d="M649.792 570.048a32 32 0 1 0 40.544-49.536l-158.048-129.408a32 32 0 0 0-40.576 0l-159.04 130.24a32.032 32.032 0 0 0 20.256 56.768 31.744 31.744 0 0 0 20.256-7.264L480 483.456V912a32 32 0 0 0 64 0V483.456l105.792 86.592z"
              fill="#cdcdcd" p-id="8787">
            </path>
          </svg>`,
    name: 'load'
  }
]

let { currentIndex } = storeToRefs(init)
currentIndex.value = sessionStorage.getItem('currentIndex') || -1

const clickDiv = (index, name) => {
  currentIndex.value = index
  sessionStorage.setItem('currentIndex', index)
  $router.push({ name: name })
}

const islogin = computed(() => {
  return sessionStorage.getItem('token') ? true : false
})

</script>

<style lang="less" scoped>
// 在单文件组件里，scoped 的样式不会应用在 v-html 内部，因为那部分 HTML 没有被 Vue 的模板编译器处理。 
// less 中 在使用scoped属性的情况下，穿透scoped，修改其他组件的值  
:deep(.nav) {
  padding: 20px 0;
  display: flex;
  justify-content: center;

  svg {
    height: 27px;
    width: 27px;

    // .icon1 {
    //   /* 图标填充颜色 让它不填充(就只是线条描边) */
    //   fill: none;
    //   /* 图形元素的外轮廓颜色 */
    //   stroke: #ffffff;
    //   /* 图形元素的外轮廓宽度 */
    //   stroke-width: 15;
    //   /* 两端的形状 让它平滑 */
    //   stroke-linecap: round;
    // }
  }

}

:deep(.nav:hover) {
  // background-color: rgb(242, 226, 226);
  animation: draw 1.5s;

  svg {
    transform: scale(1.3);
  }
}



:deep(.active) {
  svg {
    transform: scale(1.3);

    .icon1 {
      fill: rgb(64, 158, 255);
    }
  }
}

@keyframes draw {
  0% {
    // 指定线条的长度和间距 第一个是线条长度(一开始为0 即不画) 第二个是空隙距离
    stroke-dasharray: 0, 600px;
  }

  100% {
    stroke-dasharray: 600px, 0;
  }
}
</style>